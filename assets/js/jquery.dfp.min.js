!function(e,t){"use strict";!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):e.jQuery||e.Zepto)}(function(n){var o=this||{},a="",i=0,s=0,r=0,l=!1,d=!1,c="googleAdUnit",u=function(e,t,s){var l;i=0,r=0,a=e,l=n(t),o.shouldCheckForAdBlockers=function(){return!!s&&"function"==typeof s.afterAdBlocked},b(s,l).then(function(){s=g(s),o.dfpOptions=s,n(function(){f(s,l),p(s,l)})})},g=function(o){var a={setTargeting:{},setCategoryExclusion:"",setLocation:"",enableSingleRequest:!0,collapseEmptyDivs:"original",refreshExisting:!0,disablePublisherConsole:!1,disableInitialLoad:!1,setCentering:!1,noFetch:!1,namespace:t,sizeMapping:{}};if(void 0===o.setUrlTargeting||o.setUrlTargeting){var i=h(o.url);n.extend(!0,a.setTargeting,{UrlHost:i.Host,UrlPath:i.Path,UrlQuery:i.Query})}return n.extend(!0,a,o),a.googletag&&e.googletag.cmd.push(function(){n.extend(!0,e.googletag,a.googletag)}),a},f=function(t,s){var l=e.googletag;s.each(function(){var e=n(this);i++;var o=m(e,t),s=v(e,o),r=y(e);e.data("existingContent",e.html()),e.html("").addClass("display-none"),l.cmd.push(function(){var i,d=e.data(c);if(d)i=d;else{var u;u=""===a?o:"/"+a+"/"+o,e.data("outofpage")?i=l.defineOutOfPageSlot(u,s):(i=l.defineSlot(u,r,s),e.data("companion")&&(i=i.addService(l.companionAds()))),i=i.addService(l.pubads())}var g=e.data("targeting");g&&n.each(g,function(e,t){i.setTargeting(e,t)});var f=e.data("exclusions");if(f){var p,h=f.split(",");n.each(h,function(e,t){(p=n.trim(t)).length>0&&i.setCategoryExclusion(p)})}var v=e.data("size-mapping");if(v&&t.sizeMapping[v]){var m=l.sizeMapping();n.each(t.sizeMapping[v],function(e,t){m.addSize(t.browser,t.ad_sizes)}),i.defineSizeMapping(m.build())}e.data(c,i),"function"==typeof t.beforeEachAdLoaded&&t.beforeEachAdLoaded.call(this,e)})}),l.cmd.push(function(){var e=l.pubads();t.enableSingleRequest&&e.enableSingleRequest(),n.each(t.setTargeting,function(t,n){e.setTargeting(t,n)});var a=t.setLocation;if("object"==typeof a&&("number"==typeof a.latitude&&"number"==typeof a.longitude&&"number"==typeof a.precision?e.setLocation(a.latitude,a.longitude,a.precision):"number"==typeof a.latitude&&"number"==typeof a.longitude&&e.setLocation(a.latitude,a.longitude)),t.setCategoryExclusion.length>0){var d,c=t.setCategoryExclusion.split(",");n.each(c,function(t,o){(d=n.trim(o)).length>0&&e.setCategoryExclusion(d)})}t.collapseEmptyDivs&&e.collapseEmptyDivs(),t.disablePublisherConsole&&e.disablePublisherConsole(),t.companionAds&&(l.companionAds().setRefreshUnfilledSlots(!0),t.disableInitialLoad||e.enableVideoAds()),t.disableInitialLoad&&e.disableInitialLoad(),t.noFetch&&e.noFetch(),t.setCentering&&e.setCentering(!0),e.addEventListener("slotRenderEnded",function(e){r++;var o=n("#"+e.slot.getSlotId().getDomId()),a=e.isEmpty?"none":"block",l=o.data("existingContent");"none"===a&&n.trim(l).length>0&&"original"===t.collapseEmptyDivs&&(o.show().html(l),a="block display-original"),o.removeClass("display-none").addClass("display-"+a),"function"==typeof t.afterEachAdLoaded&&t.afterEachAdLoaded.call(this,o,e),"function"==typeof t.afterAllAdsLoaded&&r===i&&t.afterAllAdsLoaded.call(this,s)}),o.shouldCheckForAdBlockers()&&!l._adBlocked_&&setTimeout(function(){var a=e.getSlots?e.getSlots():[];a.length>0&&n.get(a[0].getContentUrl()).always(function(e){200!==e.status&&n.each(a,function(){var e=n("#"+this.getSlotId().getDomId());t.afterAdBlocked.call(o,e,this)})})},0),l.enableServices()})},p=function(t,a){var i=e.googletag;if(o.shouldCheckForAdBlockers()&&!i._adBlocked_&&i.getVersion){var s="//partner.googleadservices.com/gpt/pubads_impl_"+i.getVersion()+".js";n.getScript(s).always(function(e){e&&"error"===e.statusText&&n.each(a,function(){t.afterAdBlocked.call(o,n(this))})})}a.each(function(){var e=n(this),a=e.data(c);i._adBlocked_&&o.shouldCheckForAdBlockers()&&t.afterAdBlocked.call(o,e),i.cmd.push(t.refreshExisting&&a&&e.hasClass("display-block")?function(){i.pubads().refresh([a])}:function(){i.display(e.attr("id"))})})},h=function(t){var n=(t||e.location.toString()).match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);return{Host:n[4]||"",Path:(n[5]||"").replace(/(.)\/$/,"$1"),Query:(n[7]||"").replace(/\=/gi,":").split("&")}},v=function(e,t){return s++,e.attr("id")||e.attr("id",t.replace(/[^A-z0-9]/g,"_")+"-auto-gen-id-"+s).attr("id")},m=function(e,t){var n=e.data("adunit")||t.namespace||e.attr("id")||"";return"function"==typeof t.alterAdUnitName&&(n=t.alterAdUnitName.call(this,n,e)),n},y=function(e){var t=[],o=e.data("dimensions");if(o){var a=o.split(",");n.each(a,function(e,n){var o=n.split("x");t.push([parseInt(o[0],10),parseInt(o[1],10)])})}else t.push([e.width(),e.height()]);return t},b=function(t,a){function i(){o.shouldCheckForAdBlockers()&&n.each(a,function(){t.afterAdBlocked.call(o,n(this))})}if(d=d||n('script[src*="googletagservices.com/tag/js/gpt.js"]').length)return l&&i(),n.Deferred().resolve();var s=n.Deferred();e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[];var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.onerror=function(){A(),s.resolve(),l=!0,i()},r.onload=function(){googletag._loadStarted_||(googletag._adBlocked_=!0,i()),s.resolve()};var c="https:"===document.location.protocol;r.src=(c?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var u=document.getElementsByTagName("script")[0];return u.parentNode.insertBefore(r,u),"none"===r.style.display&&A(),s},A=function(){var t=e.googletag,a=t.cmd,i=function(e,n,o,a){return t.ads.push(o),t.ads[o]={renderEnded:function(){},addService:function(){return this}},t.ads[o]};t={cmd:{push:function(e){e.call(o)}},ads:[],pubads:function(){return this},noFetch:function(){return this},disableInitialLoad:function(){return this},disablePublisherConsole:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(e,t,n){return i(0,0,n)},defineOutOfPageSlot:function(e,t){return i(0,0,t)},display:function(e){return t.ads[e].renderEnded.call(o),this}},n.each(a,function(e,n){t.cmd.push(n)})};n.dfp=n.fn.dfp=function(e,n){n=n||{},e===t&&(e=a),"object"==typeof e&&(n=e,e=n.dfpID||a);var o=this;return"function"==typeof this&&(o=".adunit"),u(e,o,n),this}})}(window);